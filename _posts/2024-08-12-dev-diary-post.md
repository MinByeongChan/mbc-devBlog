---
title: '[개발일지] 2024-08-12'
description: ''
date: '2024-08-12'
modified_date: '2024-08-12'
tags: [개발일지]
---

## 개발일지 2024-08-12(월)

일주일동안 공통코드 관계설정 매핑하는 로직만 개발했다. 하지만 결과는 좋지않았다. 지난주까지 개발 마무리 작업에 들어가야했었고, 주말동안 테스트코드를 작성해서 개발에 매진했지만 결과는 실패로 마무리됐다. 오늘 주간보고에 들어가 업무 조정 관련해서 논의가 이뤄졌다.

애초에 기획자체가 너무 모호하다는 의견으로 많이 모아졌다. BE 데이터 구조는 tree 구조로 설계되어있다. 이 구조를 FE에서는 다중 리스트를 이용해서 UI를 그리는 개발건이었다. `treeview`를 리스트로 나타내는것까지는 괜찮았다. 하지만, 리스트를 트리뷰로 매핑하고, 그 중간에 각 value마다 체크박스 상태까지 제어하면서 공통코드 관계 설정 생성 및 수정하기에는 너무 많은 공수가 들어갔다. 어느정도까지 개발이 된 상태이지만, 결과적으로 사이드이펙이 너무 많이 발생하여 기획을 변경하는 쪽으로 변경해야할것 같다.

기획을 트리뷰 UI로 구성하는게 어떻겠냐는 의견이 있었고 다수가 이 의견을 수렴하는것으로 보였다. 결국 내 3주간의 노력은 수포로 돌아가는 순간이었다.

이 개발 관계설정 개발을 진행하면서 나의 많은 고민과 노력, 그리고 코드들의 집합이 들어갔다. 하지만, 그것만으로는 실패했다는 것을 포장하기에는 너무 아쉬움이 남는다.

개발자라면 개발을 착수하기전에 가장 어려운 구간을 선정하고 그 어려운 단계부터 차근차근 알아내고 선별하는 작업이 필요한데, 이 능력이 아직 나에게는 많이 부족한것 같다. 팀장님과의 의사소통 부재도 한 몫 했다. 개발이 안될것 같으면 바로 말씀을 드리고 일정 조율을 했어야했는데, 팀장님의 강한 어투에 난 기가 죽었고 거기에서 혼자 끙끙 앓고 있었다. 이건 결과적으로 굉장히 좋지 못한 선택이었고, 다음부터는 이런 불상사가 없도록 노력해야겠다. 개발자의 덕목은 과연 무엇일까... 오늘은 여기까지...


오전까지 기존 리스트 형태의 관계 코드들을 트리구조 형식으로 변경하는 작업을 했다. 기획전 기술검토 단계라 트리 구조로 뿌려주고 다시 그 형태를 children하위 값을 넣어 반복되는 구조로 변경하는 개발을 진행해야했다. child item을 호출하기 전 parent키를 전달하여 그 값에 대응되는 체크박스 상태값들을 저장하는 방식으로 머릿속으로 구상했지만, 개발 착수 전 개발 업무가 날라가버렸다. 일정상 관계 설정은 추후에 진행해야할 것 같고, 현재 급한 메뉴부터 진행해야하는 상황이었다. 내부 개발일정상 밀려난 거라 어쩔수없이 수긍했고, 회계-원장 메뉴를 개발을 담당하게 됐다. 원장은 분개, 분개장, 계정별원장, 합계금액시산표 등 다양한 용어들이 등장해 한번 숙지한 후에 화면 레이아웃 개발을 진행했다.

우선 메뉴를 라우터에 매핑되도록 했다. 탭 메뉴를 상태 값으로 관리하도록 했고, 초기값은 location에서 가져오도록 했다. 각 메뉴변경 시, 라우터가 변경되도록 하였다. 라우터를 추가하는데 react-router-dom에서는 성능상 이슈가 없는것으로 확인되어 라우터가 변경되도록 하였다. 상태만으로 관리하게된다면 새로고침과 같이 사이드이펙트가 발생할 것 같아 url에서 값을 추출하고, 값에 따라 메뉴가 변경되는 방식을 채택하였다. 

메뉴 컴포넌트는 관리하기 편리하게 컴포넌트로 추출하였고, 메뉴 제어 로직은 hook에 묶어두었다.

레이아웃은 구성완료했고, 이제 각 화면마다 뿌려줄 데이터 필터섹션과 테이블을 세팅해야한다. 각각 컴포넌트를 만들고, 컬럼 데이터는 hooks에서 공통적으로 관리되도록 구성하려 한다. 오늘은 여기까지...