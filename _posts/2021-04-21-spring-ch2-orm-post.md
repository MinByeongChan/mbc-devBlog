---
title: "[Spring] ORM(JPA, Hibernate), SQL Mapper, JDBC 개념 정리"
description: '스프링은 DB에 대한접근을 가능하게 만든다...'
date: "2021-04-21"
modified_date: "2021-04-21"
tags: [Spring, Java]
---

스프링은 DB에 대한접근을 가능하게 만든다. Restful API 호출 서비스, DB 관리 및 제어를 할 수 게 만들기도 한다. DB에 대해 접근하는 방법은 다양한 방식이 있는데 그것들에 대한 개념을 정리하고자 한다.

# ORM 이란?

- ORM(Object-Relational-Mapping)이란 객체와 관계형대이터베이스 매핑, 객체와 DB의 테이블이 매핑을 이루는 것을 말한다.
- 객체가 테이블이 되도록 매칭 시켜주는 프레임워크이다.
- 프로그램의 복잡도를 줄이고 자바 객체와 쿼리를 분리할 수 있으며 트랜잭션 처리나 기타 데이터베이스 관련 작업들을 좀 더 편리학 처리할 수 있게 된다.
- SQL Query가 아닌 직관적인 코드로서 데이터를 조작할 수 있다.(ORM에서 제공하는 메서드로 쿼리를 제어할 수 있다.)

# JPA 란?

- JPA(Java Persistence API)이란 `자바 ORM 기술에 대한 API 표준 명세`를 말한다.
- ORM에 대한 자바 API 규격이며, 자바 어플레케이션에서 관계형 데이터베이스를 사용하는 방식을 정의한 인터페이스이다.
- 인터페이스 자체이기 때문에 라이브러리와 같이 특정 기능이 존재하지 않는다.
- 따라서, `Hibernate`와 같은 JPA 구현체를 사용해야한다.

## JPA에 대한 장점

- 생산성이 뛰어나고 유지보수가 용이하다.
  - 객체지향적인 코드를 사용하므로 비즈니스로직에 더 집중할 수 있다.
  - 객체지향적으로 데이터를 관리할 수 있으므로 유지보수에 용이하다.
  - SQL을 직접적으로 사용하는 것이 아닌, 메서드에 의해 동작하므로 간결하게 사용할 수 있다.
  

- DBMS에 대한 종속성이 줄어든다.
  - DBMS가 변경되더라도 소스, 쿼리, 구현방법, 자료형 등을 변경할 필요가 없다.
  - 결국, 개발자는 DBMS에 대한 고려를 덜 해도 되므로 객체에 집중하여 개발할 수 있다.

## JPA에 대한 단점

- 구현 난이도
  - JPA를 실무에서 잘사용하기 위한 비용은 비교적 높은편이다.
  - 복잡한 쿼리를 사용할 때 불리하다.
  - 기존 데이터베이스 중심으로 되어있는 한경에서 적용하기 어려워진다.


# SQL Mapper 

- SQL Mapper란, SQL을 직접 작성하여 DB에 접근하는 것을 말한다.
- `Mybatis`라는 미들웨어를 사용해서 접근한다.
- JAVA 코드가 아닌 작성한 SQL문 Mapping해서 접근하기 때문에 비교적 쉽다.
- 복잡한 쿼리도 비교적 쉽게 구현해낼 수 있다.


# SQL Mapper vs JPA

Mybatis를 사용한다는 것은 곧 SQL Mapper를 이용해서 DB에 접근하는 것을 말한다. 즉, DB에 대해 직접적으로 접근한다. 쿼리를 직접 입력하고 매핑시키기 때문에 편리하다. 하지만, 규모가 커지고 DAO, DTO 등 소스가 하나 둘씩 커지기 시작하면 유지하기가 어려워진다.

작은 규모의 프로젝트에서 SQL Mapper를 사용하는 것은 좋다. 하지만, 규모가 커지고 로직이 복잡해지고 소스가 방대해지면 객체로 접근 및 관리하는 것이 더 나은 방법일 수 있다.

# JDBC (java Database Connectivity)
- JDBC는 Database(영속성계층)에 접근하기 위해 사용되는 API 이다.
- JPA 또는 다른 ORM은 Object를 SQL로 매핑하는 것을 제공해주고, 그 이후 SQL을 연결하는 것은 JDBC영역 기능을 제공한다.

